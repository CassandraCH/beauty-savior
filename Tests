Déplacements

Données          Résultats attendu              Resultats tests                                         Code
  ←                  gauche                         validé                      extern void InputJoueur( SDL_Event *event  )
  →                  droite                                                     {
  ↑                  saut                                                         if( event->type == SDL_KEYDOWN )
                                                                                  {
                                                                                    switch(event->key.keysym.sym)
                                                                                    {
                                                                                      case SDLK_UP:
                                                                                        if( player.estSurSol )
                                                                                        {
                                                                                          player.vy  = -9;
                                                                                          player.estSurSol =false;
                                                                                         }
                                                                                       break;
                                                                                     }
                                                                                    }
                                                                                    const Uint8 *states = SDL_GetKeyboardState(NULL);
                                                                                    if( states[SDL_SCANCODE_LEFT]  && player.x-25 > 0  ){
                                                                                        player.vx -= 0.5;
                                                                                            if( player.vx < -6 )
                                                                                            {
                                                                                                player.vx = -6;
                                                                                            }
                                                                                        player.estTourne = true;
                                                                                        player.ralenti = 0;
                                                                                    } else if(   states[SDL_SCANCODE_RIGHT] && player.x < LARGEUR_NIVEAU - player.w ){
                                                                                        player.vx += 0.5;
                                                                                        if(player.vx > 6 )
                                                                                        {
                                                                                           player.vx = 6;
                                                                                        }
                                                                                           player.estTourne = false;
                                                                                            player.ralenti = 0;
                                                                                    }
                                                                                    else { // friction
                                                                                        player.frame = 0;
                                                                                        player.vx *= 0.8f;
                                                                                        player.ralenti = 1;
                                                                                        if( fabsf( player.vx) < 0.1f)
                                                                                        {
                                                                                               player.vx = 0;
                                                                                        }
                                                                                    }
                                                                                 }                 
                                                                                                                                                                                                                                                                                 
Attaques

  esp                 lancer d'attaque                validé                    extern void attaqueJoueur()
                                                                                {
                                                                                    if ( getPlayer()->nb_objet > 0 )
                                                                                    {
                                                                                        CreerTir(bull, getPlayer()->w , getPlayer()->h, getPlayerX(),  getPlayerY() );
                                                                                        SetHUD_IntToTexture(getScores(), "SCORES",--player.nb_objet,getScores()->rect.x,getScores()->rect.y  );
                                                                                    }
                                                                                    return;
                                                                                }
                                                                              

  














